<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant Billing & Inventory System</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2><i class="fas fa-utensils"></i> Restaurant Manager</h2>
                <div class="user-info">
                    <div class="user-details">
                        <span id="current-user">Usuario</span>
                        <span id="user-role" class="user-role">Rol</span>
                    </div>
                    <button class="logout-btn" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
            <ul class="nav-menu">
                <li class="nav-item active" data-tab="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </li>
                <li class="nav-item" data-tab="billing">
                    <i class="fas fa-receipt"></i>
                    <span>Facturación</span>
                </li>
                <li class="nav-item" data-tab="inventory">
                    <i class="fas fa-boxes"></i>
                    <span>Inventario</span>
                </li>
                <li class="nav-item" data-tab="orders">
                    <i class="fas fa-list"></i>
                    <span>Órdenes</span>
                </li>
                <li class="nav-item" data-tab="reports">
                    <i class="fas fa-chart-bar"></i>
                    <span>Reportes</span>
                </li>
                <li class="nav-item" data-tab="settings">
                    <i class="fas fa-cog"></i>
                    <span>Configuración</span>
                </li>
            </ul>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Dashboard Tab -->
            <div id="dashboard" class="tab-content active">
                <div class="content-header">
                    <h1>Dashboard</h1>
                    <p>Resumen general del restaurante</p>
                </div>
                
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="total-orders">0</h3>
                            <p>Órdenes Hoy</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="total-revenue">$0.00</h3>
                            <p>Ingresos Hoy</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-box"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="total-products">0</h3>
                            <p>Productos</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="low-stock">0</h3>
                            <p>Stock Bajo</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-charts">
                    <div class="chart-container">
                        <h3>Ventas Recientes</h3>
                        <div id="recent-sales" class="chart-content">
                            <!-- Recent sales will be populated here -->
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <h3>Productos Populares</h3>
                        <div id="popular-products" class="chart-content">
                            <!-- Popular products will be populated here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Billing Tab -->
            <div id="billing" class="tab-content">
                <div class="content-header">
                    <h1>Facturación</h1>
                    <button class="btn btn-primary" onclick="showMainMenu()" id="main-menu-btn" style="display: none;">
                        <i class="fas fa-home"></i> Menú Principal
                    </button>
                </div>
                
                <!-- Main Menu View -->
                <div id="main-menu-view" class="main-menu-container">
                    <div class="location-type-selector">
                        <button class="location-type-btn active" onclick="switchLocationType('mesa')">
                            <i class="fas fa-chair"></i> Mesas
                        </button>
                        <button class="location-type-btn" onclick="switchLocationType('domicilio')">
                            <i class="fas fa-motorcycle"></i> Domicilio
                        </button>
                        <button class="location-type-btn" onclick="switchLocationType('barra')">
                            <i class="fas fa-glass-martini"></i> Barra
                        </button>
                        <button class="btn btn-danger" onclick="clearAllOrders()" style="margin-left: 20px;">
                            <i class="fas fa-trash"></i> Limpiar Todas las Órdenes
                        </button>
                        <button class="btn btn-info" onclick="testFunction()" style="margin-left: 10px;">
                            <i class="fas fa-bug"></i> Test
                        </button>
                    </div>
                    <h2>Seleccionar Mesa</h2>
                    <div class="tables-grid" id="tables-grid">
                        <!-- Tables will be loaded here -->
                    </div>
                </div>
                
                <!-- Order View -->
                <div id="order-view" class="billing-container" style="display: none;">
                    <!-- Menu Section -->
                    <div class="menu-section">
                        <div class="category-buttons" id="category-tabs">
                            <!-- Category tabs will be loaded here -->
                        </div>
                        
                        <div class="products-grid" id="products-grid">
                            <!-- Products will be displayed here -->
                        </div>
                    </div>
                    
                    <!-- Order Section -->
                    <div class="order-section">
                        <div class="order-header">
                            <h3>Orden para: <span id="current-table-display">Sin seleccionar</span></h3>
                        </div>
                        
                        <div class="order-items" id="order-items">
                            <!-- Order items will be displayed here -->
                        </div>
                        
                        <div class="order-summary">
                            <div class="summary-row total">
                                <span>TOTAL:</span>
                                <span id="total">$0.00</span>
                            </div>
                        </div>
                        
                        <div class="order-actions">
                            <button class="btn btn-warning" onclick="printKitchenTicket()">
                                <i class="fas fa-utensils"></i> Imprimir para Cocina
                            </button>
                            <button class="btn btn-success" onclick="saveOrder()">
                                <i class="fas fa-save"></i> Guardar Orden
                            </button>
                            <button class="btn btn-primary" onclick="payOrder()">
                                <i class="fas fa-credit-card"></i> Pagar Orden
                            </button>
                            <button class="btn btn-info" onclick="printReceipt()">
                                <i class="fas fa-print"></i> Recibo Cliente
                            </button>
                            <button class="btn btn-secondary" onclick="clearOrder()" id="clear-order-btn">
                                <i class="fas fa-trash"></i> Limpiar Orden
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Inventory Tab -->
            <div id="inventory" class="tab-content">
                <div class="content-header">
                    <h1>Gestión de Inventario</h1>
                    <button class="btn btn-primary" onclick="showAddProductModal()">
                        <i class="fas fa-plus"></i> Agregar Producto
                    </button>
                </div>
                
                <div class="inventory-filters">
                    <input type="text" id="product-search" placeholder="Buscar productos..." class="search-input">
                    <select id="category-filter" class="filter-select">
                        <option value="">Todas las categorías</option>
                    </select>
                </div>
                
                <div class="inventory-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Producto</th>
                                <th>Categoría</th>
                                <th>Precio</th>
                                <th>Stock</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="inventory-tbody">
                            <!-- Inventory items will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Orders Tab -->
            <div id="orders" class="tab-content">
                <div class="content-header">
                    <h1>Gestión de Órdenes</h1>
                </div>
                
                <div class="orders-filters">
                    <select id="status-filter" class="filter-select">
                        <option value="">Todos los estados</option>
                        <option value="pending">Pendiente</option>
                        <option value="preparing">Preparando</option>
                        <option value="ready">Listo</option>
                        <option value="completed">Completado</option>
                        <option value="cancelled">Cancelado</option>
                    </select>
                    <input type="date" id="date-filter" class="date-input">
                </div>
                
                <div class="orders-grid" id="orders-grid">
                    <!-- Orders will be loaded here -->
                </div>
            </div>

            <!-- Reports Tab -->
            <div id="reports" class="tab-content">
                <div class="content-header">
                    <h1>Reportes</h1>
                    <button class="btn btn-primary" onclick="exportData()">
                        <i class="fas fa-download"></i> Exportar Datos
                    </button>
                </div>
                
                <div class="reports-container">
                    <div class="report-section">
                        <h3>Reporte de Ventas</h3>
                        <div class="date-range">
                            <input type="date" id="start-date" class="date-input">
                            <span>a</span>
                            <input type="date" id="end-date" class="date-input">
                            <button class="btn btn-secondary" onclick="generateSalesReport()">
                                Generar Reporte
                            </button>
                        </div>
                        
                        <div class="report-results" id="sales-report">
                            <!-- Sales report will be displayed here -->
                        </div>
                    </div>
                    
                    <div class="report-section">
                        <h3>Productos con Stock Bajo</h3>
                        <div class="low-stock-list" id="low-stock-list">
                            <!-- Low stock items will be displayed here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Tab -->
            <div id="settings" class="tab-content">
                <div class="content-header">
                    <h1>Configuración</h1>
                </div>
                
                <div class="settings-container">
                    <div class="setting-group">
                        <h3>Información del Restaurante</h3>
                        <div class="form-group">
                            <label>Nombre del Restaurante</label>
                            <input type="text" id="restaurant-name" placeholder="Nombre del restaurante">
                        </div>
                        <div class="form-group">
                            <label>Dirección</label>
                            <input type="text" id="restaurant-address" placeholder="Dirección">
                        </div>
                        <div class="form-group">
                            <label>Teléfono</label>
                            <input type="text" id="restaurant-phone" placeholder="Teléfono">
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <h3>Configuración de Impresión</h3>
                        <div class="form-group">
                            <label>Mensaje del Recibo</label>
                            <textarea id="receipt-message" placeholder="Mensaje que aparecerá en el recibo"></textarea>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <h3>Gestión de Categorías</h3>
                        <div class="categories-management" id="categories-management">
                            <!-- Categories management will be here -->
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="product-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">Agregar Producto</h2>
                <span class="close" onclick="closeModal('product-modal')">&times;</span>
            </div>
            <div class="modal-body">
                <form id="product-form">
                    <div class="form-group">
                        <label>Nombre del Producto</label>
                        <input type="text" id="product-name" required>
                    </div>
                    <div class="form-group">
                        <label>Categoría</label>
                        <select id="product-category" required>
                            <!-- Categories will be loaded here -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Precio</label>
                        <input type="number" id="product-price" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label>Stock</label>
                        <input type="number" id="product-stock" required>
                    </div>
                    <div class="form-group">
                        <label>Descripción</label>
                        <textarea id="product-description"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('product-modal')">Cancelar</button>
                <button class="btn btn-primary" onclick="saveProduct()">Guardar</button>
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>
</html> 